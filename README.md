# âš½ Soccer Scout Co-Pilot: Finding the Next Messi... or Ronaldo

<div align="center">

**AI-Powered Player Scouting & Analysis System**

*Discover undervalued soccer prospects with machine learning and get deep insights with AI*

[![Python](https://img.shields.io/badge/Python-3.11-blue.svg)](https://www.python.org/)
[![Streamlit](https://img.shields.io/badge/Streamlit-1.38.0-red.svg)](https://streamlit.io/)
[![Docker](https://img.shields.io/badge/Docker-Ready-blue.svg)](https://www.docker.com/)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)

</div>

---

## ğŸ“‹ Table of Contents

- [Overview](#-overview)
- [Features](#-features)
- [Project Architecture](#-project-architecture)
- [Quick Start](#-quick-start)
- [Detailed Setup](#-detailed-setup)
- [Usage Guide](#-usage-guide)
- [Project Structure](#-project-structure)
- [Model Details](#-model-details)
- [Development](#-development)
- [Troubleshooting](#-troubleshooting)
- [Contributors](#-contributors)

---

## ğŸ¯ Overview

**Soccer Scout Co-Pilot** is an advanced machine learning system designed to help soccer clubs identify undervalued players with high potential. By analyzing historical player data, performance metrics, and market valuations, our system predicts:

1. **Market Value Growth**: 1-year future market value predictions using XGBoost regression
2. **Breakout Probability**: Player breakout likelihood using LightGBM classification
3. **AI-Powered Insights**: Deep analysis reports generated by GPT-5

### What Makes a Player "Undervalued"?

Our system identifies players who:
- Show high breakout probability (>70%)
- Have strong predicted market value growth (>50%)
- Currently have low market valuations (<â‚¬5M)
- Are in optimal age ranges (18-25 for prospects)

---

## âœ¨ Features

### ğŸ¤– Machine Learning Models
- **XGBoost Regressor**: Predicts 1-year market value growth with RÂ² > 0.85
- **LightGBM Classifier**: Identifies breakout players with AUC > 0.90
- **Feature Engineering**: 100+ engineered features including aging curves, performance trends, and market dynamics

### ğŸ“Š Interactive Dashboard
- **Advanced Filtering**: Filter by position, age, league, market value, and prediction scores
- **Player Comparison**: Side-by-side comparison of multiple players
- **Detailed Analytics**: Comprehensive statistics, performance trends, and transfer history
- **AI Analysis**: GPT-5 powered scouting reports with strengths, weaknesses, and recommendations

### ğŸ³ Docker Support
- **One-Command Setup**: Fully containerized environment
- **Automatic Data Processing**: Automated pipeline from raw data to predictions
- **Volume Persistence**: Data persists between container restarts
- **Hot Reload**: Code changes automatically reload in development mode

---

## ğŸ—ï¸ Project Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Raw Data (Kaggle)                      â”‚
â”‚         (players, clubs, games, appearances, etc.)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Data Processing Pipeline                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  1. build_player_snapshot.py                        â”‚   â”‚
â”‚  â”‚     â†’ Aggregates player statistics                  â”‚   â”‚
â”‚  â”‚     â†’ Creates temporal snapshots                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  2. build_development_dataset.py                    â”‚   â”‚
â”‚  â”‚     â†’ Calculates aging curves                       â”‚   â”‚
â”‚  â”‚     â†’ Tracks performance trends                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 Machine Learning Models                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  XGBoost Regression  â”‚  â”‚  LightGBM Classification  â”‚    â”‚
â”‚  â”‚  (Market Value)      â”‚  â”‚  (Breakout Prediction)    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚                          â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           generate_recommendations.py                       â”‚
â”‚     Combines all predictions into ranked list               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Streamlit Dashboard + GPT-4 Analysis           â”‚
â”‚         Interactive UI for scouts and analysts              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ Quick Start

### Prerequisites

- **Docker & Docker Compose** ([Install Docker](https://docs.docker.com/get-docker/))
- **Git** ([Install Git](https://git-scm.com/downloads))
- **OpenAI API Key** ([Get API Key](https://platform.openai.com/api-keys))

### Step 1: Clone Repository

```bash
git clone https://github.com/NuAiHackathon2025/hackathon-2025-evan-ston-energy.git
cd hackathon-2025-evan-ston-energy
```

### Step 2: Download Data

1. Download the dataset from [Kaggle](https://www.kaggle.com/datasets/davidcariboo/player-scores)
2. Extract and place these CSV files in the `data/` directory:
   - `players.csv`
   - `clubs.csv`
   - `competitions.csv`
   - `games.csv`
   - `appearances.csv`
   - `game_events.csv`
   - `game_lineups.csv`
   - `club_games.csv`
   - `player_valuations.csv`
   - `transfers.csv`

Your directory structure should look like:
```
hackathon-2025-evan-ston-energy/
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ players.csv
â”‚   â”œâ”€â”€ clubs.csv
â”‚   â”œâ”€â”€ competitions.csv
â”‚   â””â”€â”€ ... (other CSV files)
â”œâ”€â”€ app/
â”œâ”€â”€ src/
â””â”€â”€ docker-compose.yml
```

### Step 3: Configure API Key

```bash
# Copy the example environment file
cp env.example .env

# Edit .env and add your OpenAI API key
# (use any text editor like nano, vim, or VS Code)
nano .env
```

In the `.env` file, replace `your-openai-api-key-here` with your actual API key:
```
OPENAI_API_KEY=sk-proj-xxxxxxxxxxxxx
```

### Step 4: Build and Run

```bash
# Build and start the container
docker compose up --build
```

**What happens now:**
1. ğŸ³ Docker builds the container with all dependencies
2. ğŸ“Š System checks if processed data exists
3. ğŸ¤– If not, runs the complete prediction pipeline (takes 5-15 minutes)
4. ğŸš€ Starts the Streamlit dashboard

### Step 5: Access Application

Open your browser and navigate to:
```
http://localhost:8501
```

ğŸ‰ **You're done!** Start exploring undervalued players!

---

## ğŸ“š Usage Guide

### Dashboard Navigation

#### 1. **Sidebar Filters**
- **Leagues**: Filter by league's name
- **Position**: Filter by player positions (Forward, Midfielder, Defender, Goalkeeper)
- **Age Range**: Select age bracket (e.g., 18-25 for young prospects)
- **Budget**: Set current market value range
- **Breakout Probability**: Minimum breakout prediction threshold
- **Undervalued Amount**: Minimum undervalued amount
- **Aging Score**: Composite score for aging cureve analysis
- **Development Stage**: Is the player aging well/normal/bad

#### 2. **Player Table**
- Sortable columns for all key metrics
- Click any row to view detailed player analysis

#### 3. **Player Detail View**
- **Basic Info**: Name, age, position, club, nationality
- **Current Stats**: Market value, contract details, performance metrics
- **Predictions**: Breakout probability, value growth forecast
- **Performance Trends**: Historical statistics and development curves
- **Transfer History**: Past transfers and market value evolution

#### 4. **AI Analysis Report**
- Click "Generate Complete Analysis Report"
- GPT-5 analyzes player data and provides:
  - Strengths and weaknesses
  - Playing style analysis
  - Scouting recommendations
  - Risk assessment
  - Comparison to similar players

### Finding Undervalued Players

**Example Search Strategy:**

1. **Young Prospects** (Next Wonderkids)
   ```
   Age: 18-21
   Breakout Probability: >80%
   Market Value: <â‚¬5M
   Position: Attacking Midfield
   ```

2. **Hidden Gems** (Second Tier Leagues)
   ```
   Age: 22-25
   Breakout Probability: >70%
   Market Value: <â‚¬5M
   ```

3. **Proven Performers** (Low Risk)
   ```
   Age: 24-28
   Breakout Probability: >60%
   Market Value: â‚¬10M-â‚¬50M
   ```

---

## ğŸ—‚ï¸ Project Structure

```
hackathon-fresh/
â”œâ”€â”€ ğŸ“ app/                          # Streamlit dashboard
â”‚   â”œâ”€â”€ streamlit_app.py             # Main application entry
â”‚   â”œâ”€â”€ components/                  # UI components
â”‚   â”‚   â”œâ”€â”€ filters.py               # Sidebar filter controls
â”‚   â”‚   â”œâ”€â”€ player_table.py          # Player list table
â”‚   â”‚   â””â”€â”€ player_detail.py         # Detailed player view
â”‚   â””â”€â”€ mock_data/                   # Frontend data cache
â”‚
â”œâ”€â”€ ğŸ“ src/                          # Core source code
â”‚   â”œâ”€â”€ data_helper/                 # Data processing scripts
â”‚   â”‚   â”œâ”€â”€ build_player_snapshot.py # Feature engineering
â”‚   â”‚   â”œâ”€â”€ build_development_dataset.py # Aging curves
â”‚   â”‚   â””â”€â”€ generate_recommendations.py  # Final ranking
â”‚   â”œâ”€â”€ models/                      # ML models
â”‚   â”‚   â”œâ”€â”€ regression/              # XGBoost value prediction
â”‚   â”‚   â””â”€â”€ classification/          # LightGBM breakout prediction
â”‚   â”œâ”€â”€ llm/                         # GPT-4 integration
â”‚   â”‚   â”œâ”€â”€ llm_client.py            # OpenAI API client
â”‚   â”‚   â”œâ”€â”€ prompts.py               # Prompt templates
â”‚   â”‚   â””â”€â”€ schema.py                # Data schemas
â”‚   â””â”€â”€ utils/                       # Utility functions
â”‚
â”œâ”€â”€ ğŸ“ data/                         # Data files (not in repo)
â”‚   â”œâ”€â”€ *.csv                        # Raw CSV files from Kaggle
â”‚   â””â”€â”€ processed/                   # Generated predictions
â”‚       â”œâ”€â”€ player_snapshot.parquet
â”‚       â”œâ”€â”€ development_outputs.parquet
â”‚       â”œâ”€â”€ regression_outputs.parquet
â”‚       â”œâ”€â”€ classification_outputs.parquet
â”‚       â””â”€â”€ player_recommendations.csv
â”‚
â”œâ”€â”€ ğŸ“ models/                       # Pretrained models
â”‚   â”œâ”€â”€ xgb_regressor.joblib         # XGBoost model weights
â”‚   â”œâ”€â”€ lgb_classifier.joblib        # LightGBM model weights
â”‚   â”œâ”€â”€ xgb_features.json            # Feature list for XGBoost
â”‚   â””â”€â”€ lgb_features.json            # Feature list for LightGBM
â”‚
â”œâ”€â”€ ğŸ“ notebooks/                    # Jupyter notebooks (EDA & training)
â”‚   â”œâ”€â”€ player_snapshot_feature_engineering.ipynb
â”‚   â”œâ”€â”€ player_development_analysis.ipynb
â”‚   â””â”€â”€ market_value_analysis.ipynb
â”‚
â”œâ”€â”€ ğŸ“„ run_predictions.py            # Main pipeline script
â”œâ”€â”€ ğŸ“„ Dockerfile                    # Docker image definition
â”œâ”€â”€ ğŸ“„ docker-compose.yml            # Docker orchestration
â”œâ”€â”€ ğŸ“„ entrypoint.sh                 # Container startup script
â”œâ”€â”€ ğŸ“„ requirements.txt              # Python dependencies
â”œâ”€â”€ ğŸ“„ .env                          # API keys (not in repo)
â”œâ”€â”€ ğŸ“„ env.example                   # Environment template
â””â”€â”€ ğŸ“„ README.md                     # This file
```

---

## ğŸ§  Model Details

### XGBoost Regression (Market Value Prediction)

**Purpose**: Predict 1-year market value growth percentage

**Features** (100+ engineered features including):
- Current performance metrics (goals, assists, minutes played)
- Historical trends (rolling averages, growth rates)
- Age and position-specific curves
- League and competition strength
- Transfer history and market dynamics

**Performance**:
- RMSE: 0.2891
- MAE: 0.1947

### LightGBM Classification (Breakout Prediction)

**Purpose**: Identify players likely to â€œbreak outâ€ â€” players showing strong trajectory signals that indicate significant future improvement.

**Definition of Breakout**:
- Compute a position-weighted performance score
- Apply a position-specific age curve
- Measure year-over-year improvement
- Within each position group Ã— season, label only the top 20% in Î”score as breakout players


**Performance**:
- AUC-ROC: 0.90
- Precision: 0.62
- Recall: 0.63

### Feature Engineering Highlights

```python
# Example features generated:
- goals_per_90: Goals per 90 minutes played
- progressive_passes_ratio: Forward passes / total passes
- age_peak_distance: Distance from position-specific peak age
- market_value_momentum: Rate of value change over last 12 months
- league_strength_score: Weighted league competitiveness
- transfer_frequency: Number of transfers in career
```

---

## ğŸ“Š Data Sources

### Primary Dataset
- **Source**: [Kaggle - Player Scores Dataset](https://www.kaggle.com/datasets/davidcariboo/player-scores)
- **Coverage**: 2010-2023
- **Players**: 50,000+ professional players
- **Matches**: 200,000+ games across major leagues
- **Competitions**: Top 30 leagues worldwide

### Data Dictionary
[Full data dictionary available here](https://docs.google.com/document/d/1AvAvjpTnqF_sav1Zg5wq36RS-8uyjyCQRlzwSHX57Vs/edit?usp=drive_link)

---

## ğŸ™ Acknowledgments

- **Northwestern MLDS Program** for organizing the hackathon
- **Kaggle** for providing the comprehensive player dataset
- **Streamlit** for the excellent dashboard framework

---

<div align="center">

**âš½ Happy Scouting! May you find the next Messi... or Ronaldo! âš½**

Made with â¤ï¸ by the MLDS Hackathon Team - (Evan)ston Energy

</div>
