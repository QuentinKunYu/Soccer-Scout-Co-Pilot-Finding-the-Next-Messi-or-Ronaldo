services:
  scouting_app:
    build: .
    container_name: scouting-app

    # Bind port 8501 so the Streamlit UI is reachable from the host.
    ports:
      - "8501:8501"

    # Load API keys or other secrets without baking them into the image.
    env_file:
      - .env

    # Mount volumes to persist data and enable live code editing
    volumes:
      # Mount entire project for development (code changes auto-reload)
      - ./:/app

      # Ensure data directory persists between container restarts
      - ./data:/app/data

      # Keep processed data even if container is recreated
      - ./data/processed:/app/data/processed

    # Entrypoint script handles data processing and app startup automatically
    # No need to override command - entrypoint.sh handles everything
